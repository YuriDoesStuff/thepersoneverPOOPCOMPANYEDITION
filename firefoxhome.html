<!DOCTYPE HTML>
<html>
	<head>
		<title>jade's home!</title>
		<style>
			h1{
			font-size: 48px;
			margin: 3px;
			}
		
			body{
				background-image: url(/homestuck/old/hscrop/jaderoom.gif);
				background-size: cover;
				background-position: top center;
				
				margin: auto;
				text-align: center;
				font-family: Courier New;
			}
			#main{
				background: linear-gradient(#eeeeee, #d6d6d6);
				max-width: 80%;
				margin: auto;
				padding: 0 1% 0;
				min-height: 40vh;
			}
		</style>
	</head>
	<body>
	<div id=main>
			<h1>firefox</h1>
			<div style="text-align: left; max-width: 100%; transform: translateY(-20px);">
				<p>nekoweb stats: <span><asdf id=updated></asdf> - <asdf id=visitors></asdf> - <asdf id=followers></asdf> - <a href=https://nekoweb.org/stats?time=year target=_blank>graph</a>
				<br>hey. kid
					<br>code to put your stats up on your site <a href=https://max.nekoweb.org/resources/nekoweb-stats/ target=_blank>here!</a>
				</p>
			</div>
			
			<div style="text-align: right; width: 100%; display: inline-block; height: 83vh;">
				<iframe src=https://pikidiary.lol/ frameborder=0 style="width: 20%; height: 100%; float: right;"></iframe>
			</div>
	</div>
	
	
<script>

// this script is under the MIT license (https://max.nekoweb.org/resources/license.txt)

let username = "thepersonever"; // <<<--- Insert your username here!

(async () => {
  try {
    const request = await fetch(`https://nekoweb.org/api/site/info/${username}`,);
    const json = await request.json();

    const updated = new Date(json.updated_at).toLocaleDateString(); // Formats Last Updated text
    const created = new Date(json.created_at).toLocaleDateString(); // Formats Creation Date text

    var oldviews = commaize((json.views + 303460));
	var commaviews = commaize(json.views);
  
    if (document.getElementById("updated")) document.getElementById("updated").innerHTML = `updated ${updated}</span>`;
    if (document.getElementById("visitors")) document.getElementById("visitors").innerHTML = `${oldviews} hits (${commaviews} on nekoweb)`;
    if (document.getElementById("followers")) document.getElementById("followers").innerHTML = `${json.followers} nekoweb followers :D`;
  } catch (error) {
    console.error(error);
    // If you wish to insert some fallback here, you may do so!
  }
})();
 
function commaize(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
</script>
	
	</body>
</html>
